<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>可选链</title>
    <style>

    </style>
</head>
<body>
    <!-- 
        可选链：?.
     -->
    <script>
        const res = {
            code: 200, 
            msg: 'success',
            data: {
                info2:[
                    0,1,2,3,
                    {
                        obj: {id:1},
                        arr: [{name: 2}]
                    }
                ]
            }
        }


        let id = res && res.data && res.data.info && res.data.info[4] && res.data.info[4].obj && res.data.info[4].obj.id;
        console.log(id)

        //可选链的写法：
        let one = res?.data?.info?.[4]?.obj?.id;
        // let two = res.data.info.obj.id; //14-可选链.html:37 Uncaught TypeError: Cannot read property 'obj' of undefine
        console.log(one);// undefined


        function fn(errorCallBack){
            console.log('错误处理中。。。')
            errorCallBack?.('xxx')
            console.log('结束')
        }


        fn()
        fn(undefined) //errorCallBack is not a function
        

    </script>
</body>
</html>