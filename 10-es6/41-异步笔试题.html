<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>异步笔试题</title>
    <style>

    </style>
</head>
<body>
    <!-- 错误：
        script start
        promise
        script end
        setTimeout
        async2 end
        async1 end
        promise1
        promise2

        正确答案：
        script start
        async2 end
        promise
        script end
        async1 end
        promise1
        promise2
        setTimeout
        
     -->
    <script>
        console.log('script start');
        async function as1(){
            await as2()
            console.log('async1 end');
        }
        async function as2(){
            console.log('async2 end');
        }
        as1()
        setTimeout(function() {//宏任务：优先级低于Promise和 async
            console.log('setTimeout')
        }, 0)
        new Promise((r, j)=>{
            console.log('promise')
            r()
        })
        .then(function(){
            console.log('promise1')
        })
        .then(function(){
            console.log('promise2')
        })

        console.log('script end');
        
    </script>
</body>
</html>