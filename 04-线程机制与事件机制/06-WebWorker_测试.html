<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>web workers测试</title>
</head>
<body>
    <!-- 
        ! 1、H5规范提供了js分线程的实现，取名为：Web Workers
        ! 2、相关API
            * worker:构造函数，加载分线程执行的js文件
            * worker.prototype.onmessage: 用于接受另一个线程的回调函数
            * worker.prototype.postMessage: 向另一个线程发送消息
        ! 3、不足
            *worker内代码不能操作DOM（更新UI）
            *不能跨域加载JS
            *不是每个浏览器都支持这个新特性

        ! web workers工作原理
        ! 介绍：
            * web workers是html5提供的一个javascript多线程解决方案
            * 我们可以将一些大计算量的代码交由web worker运行而不冻结用户界面
            * 但是子线程完全受主线程控制，且不得操作DOM
            * 所以，这个新标准并没有改变javascript单线程的本质

        ! 使用：
            * 创建在分线程执行的js文件
            * 在主线程中的js中发消息并设置回调
        
     -->
     <input type="text" id="num">
     <button onclick="getResult()">计算</button>
     <script>
        // 1 1 2 3 5 8
        function fibonacci(n){
            //递归调用
            return n<=2 ? 1 : fibonacci(n-1) + fibonacci(n-2);
        }
        function getResult(){
            var num = document.getElementById('num')
            var n = num.value;
            alert(fibonacci(n))
        }



     </script>
</body>
</html>