<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>apply</title>
    <style>

    </style>
</head>
<body>
    <script>
        var name = 'window'
        const person = {
            name: 'XiaoMing',
            say(){
                console.log(`my name is ${this.name}`);
                console.log(arguments);
            }
        }

        Function.prototype.myApply = function(arg, arr){
            var arg = arg || window,
            args = [],
            result = ''
            arg.func = this
            if(Array.isArray(arr)){
                for(let i = 0; i < arguments.length; i++){
                    args.push(`arguments[${i}]`)
                }
                result = eval(`arg.func(${args})`)
                delete arg.func
                return result
            }else{
                return this
            }
        }

        person.say.call(window, [1, 2, 3])
        person.say.myApply(window, [1,2,3])


    </script>
</body>
</html>